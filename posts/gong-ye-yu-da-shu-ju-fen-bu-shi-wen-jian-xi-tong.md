---
title: '【工业与大数据】分布式文件系统'
date: 2020-02-02 16:14:41
tags: []
published: true
hideInList: false
feature: 
isTop: false
---
## 文件系统基础  
</br>

### 文件系统概述
#### 为什么要有文件系统？
需要介质保存一些永久的数据，停电后数据也可以长期保存
#### 文件系统的名字空间，名字空间的操作
在文件数节点上进行操作
#### 文件系统中文件读写操作
提供一些例如 open、read、write、close的操作函数
- open 操作：将文件 offset = 0，并记录文件操作信息
- close 操作：将文件从内存中删除
- read 操作：从offset=0位置读取size大小的数据。
  
### 文件系统的设计
#### 文件系统的下层接口
- 磁盘的读写接口，磁盘中的地址
#### 文件系统的上层接口
- 文件树的组织
- 文件数据的读写
#### 文件系统最本质的功能：将文件名字翻译定位到一个具体的磁盘位置，进而可以完成文件的读写。  

</br>


### 文件系统接口标准化
虚拟文件系统（VFS）是物理文件系统与服务之间的一个接口层，它对Linux的每一个文件系统的所有细节进行抽象，使得不同的文件系统在Linux核心以及系统中运行的其他进程看来，都是相同的。即调用VFS接口来调用不同的文件操作系统。
</br>
</br>
### 文件系统的磁盘数据结构
![](http://doc.xr1228.com//post-images/1580632535964.png)

### 文件系统的讨论
- 关于磁盘块大小的讨论
    - 一个文件起码占用1个文件块的空间（选择磁盘块越小浪费越小）
    - 每个磁盘块需要元数据进行描述（磁盘块越多，开销越大）
    - 虽然磁盘物理特性决定了最小的读写单元512字节，但是目前多数文件系统选用4k磁盘块。（根据不同文件系统特点选择）

- 文件系统的缓存
    - 缓存能够加速的必要条件，时间局部性（经常访问）与空间局部性（附近的数据也需要访问）

- 磁盘系统的优化策略
    - 磁盘的顺序读写与随机读写：尽量让磁盘进行顺序读写（顺序读写100MB带宽，随机读写1MB带宽）
    - 如何进行磁盘优化




## 分布式文件系统




















